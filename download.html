<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, ini􀆟al-scale=1.0">
<title>Download</title>
<link rel="stylesheet"
href="h􀆩ps://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Name</th>
<th>Email</th>
<th>Aadhar</th>
<th>Documents</th>
</tr>
</thead>
<tbody id="tbody"></tbody>
</table>
</div>
<script src="h􀆩ps://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>
<script
src="h􀆩ps://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
fetch('/files', {method: 'GET'})
.then((response)=>{
return response.json();
})
.then((response)=>{
response.forEach(element => {
const documentLinks = element.doc.map(e =>
`<a download href='./uploads/${e.name}'>${e.name}</a>`
).join(', ');
document.getElementById('tbody').innerHTML += `
<tr>
<td>${element.name}</td>
<td>${element.email}</td>
<td><a download href='./uploads/${element.aadhar}'>${element.aadhar}</a></td>
<td>${documentLinks}</td>
</tr>
`;
});
})
.catch((err)=>{
alert('Error occurred');
console.log(err);
})
</script>
</body>
</html>